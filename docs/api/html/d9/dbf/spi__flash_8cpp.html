<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.11"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>SJSU One API: /var/www/html/SJSU-DEV-Linux/firmware/default/lib/L4_IO/fat/disk/spi_flash.cpp File Reference</title>
        <!--<link href="../../tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="../../dynsections.js"></script>
        <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
        <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
        <link href="../../customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="../../doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">SJSU One API </a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part --><!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d9edf6c004b4a7ff14fe9ae7a92214ee.html">firmware</a></li><li class="navelem"><a class="el" href="../../dir_1cd4931aa993753d363e928640341ec9.html">default</a></li><li class="navelem"><a class="el" href="../../dir_98f6e3228cef689a79f0d5c275585dc1.html">lib</a></li><li class="navelem"><a class="el" href="../../dir_b0dc845ac9411c4da6fe9228642d207e.html">L4_IO</a></li><li class="navelem"><a class="el" href="../../dir_5ea5b44ce5f8213e5637d1fb2277d117.html">fat</a></li><li class="navelem"><a class="el" href="../../dir_547c00fd28c6163097f82a20e4a4c3d0.html">disk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">spi_flash.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d1f/spi__flash_8h_source.html">spi_flash.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d1a/ssp1_8h_source.html">ssp1.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/d63/disk__defines_8h_source.html">disk_defines.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/dc7/bio_8h_source.html">bio.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/db9/ff_8h_source.html">fat/ff.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for spi_flash.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/df0/spi__flash_8cpp__incl.png" border="0" usemap="#_2var_2www_2html_2SJSU-DEV-Linux_2firmware_2default_2lib_2L4__IO_2fat_2disk_2spi__flash_8cpp" alt=""/></div>
<map name="_2var_2www_2html_2SJSU-DEV-Linux_2firmware_2default_2lib_2L4__IO_2fat_2disk_2spi__flash_8cpp" id="_2var_2www_2html_2SJSU-DEV-Linux_2firmware_2default_2lib_2L4__IO_2fat_2disk_2spi__flash_8cpp">
<area shape="rect" id="node4" href="../../d5/d1f/spi__flash_8h.html" title="SPI Flash Driver complaint with FAT&#45;FS System. " alt="" coords="1017,124,1103,151"/>
<area shape="rect" id="node8" href="../../d9/d1a/ssp1_8h.html" title="ssp1.h" alt="" coords="191,273,252,300"/>
<area shape="rect" id="node15" href="../../da/d63/disk__defines_8h.html" title="disk_defines.h" alt="" coords="1217,124,1324,151"/>
<area shape="rect" id="node16" href="../../d6/dc7/bio_8h.html" title="Provides the map of all Board Pins, and initializes all connected signals of the board. " alt="" coords="261,199,312,225"/>
<area shape="rect" id="node17" href="../../da/db9/ff_8h.html" title="fat/ff.h" alt="" coords="901,124,961,151"/>
<area shape="rect" id="node6" href="../../d2/d1b/diskioStructs_8h.html" title="diskioStructs.h" alt="" coords="1023,199,1132,225"/>
<area shape="rect" id="node7" href="../../d6/d3d/integer_8h.html" title="integer.h" alt="" coords="1041,273,1113,300"/>
<area shape="rect" id="node9" href="../../da/dc3/LPC17xx_8h.html" title="CMSIS Cortex&#45;M3 Core Peripheral Access Layer Header File for NXP LPC17xx Device Series. " alt="" coords="314,497,401,524"/>
<area shape="rect" id="node13" href="../../d4/d99/ssp__prv_8h.html" title="base/ssp_prv.h" alt="" coords="166,348,277,375"/>
<area shape="rect" id="node10" href="../../d2/dbb/bit__manip_8h.html" title="Provides bit&#45;manipulation macros. " alt="" coords="317,572,406,599"/>
<area shape="rect" id="node11" href="../../d6/d42/lpc__peripherals_8h.html" title="This file provides LPC peripheral numbers according to LPC17xx datasheet. " alt="" coords="744,572,907,599"/>
<area shape="rect" id="node12" href="../../da/db4/core__cm3_8h.html" title="CMSIS Cortex&#45;M3 Core Peripheral Access Layer Header File. " alt="" coords="431,572,521,599"/>
<area shape="rect" id="node14" href="../../d0/d88/sys__config_8h.html" title="This file provides the configurable parameters for your project. " alt="" coords="195,423,291,449"/>
<area shape="rect" id="node18" href="../../de/d51/ffconf_8h.html" title="ffconf.h" alt="" coords="881,199,948,225"/>
<area shape="rect" id="node19" href="../../d1/de8/FreeRTOS_8h.html" title="FreeRTOS.h" alt="" coords="820,273,916,300"/>
<area shape="rect" id="node33" href="../../da/d30/semphr_8h.html" title="semphr.h" alt="" coords="941,273,1017,300"/>
<area shape="rect" id="node21" href="../../db/dc7/FreeRTOSConfig_8h.html" title="FreeRTOSConfig.h" alt="" coords="390,348,525,375"/>
<area shape="rect" id="node28" href="../../db/d67/projdefs_8h.html" title="projdefs.h" alt="" coords="977,348,1055,375"/>
<area shape="rect" id="node29" href="../../d2/de2/portable_8h.html" title="portable.h" alt="" coords="779,348,858,375"/>
<area shape="rect" id="node22" href="../../dd/d94/lpc__isr_8h.html" title="Interrupt Service Routine (ISR) functions. " alt="" coords="315,423,386,449"/>
<area shape="rect" id="node23" href="../../d0/d42/fault__registers_8h.html" title="This file simply provides registers that are used to detect faults. These registers should be defined..." alt="" coords="411,423,525,449"/>
<area shape="rect" id="node24" href="../../d8/dfa/trcUser_8h.html" title="trace/trcUser.h" alt="" coords="600,423,709,449"/>
<area shape="rect" id="node25" href="../../da/d3b/trcKernelPort_8h.html" title="trcKernelPort.h" alt="" coords="1096,497,1205,524"/>
<area shape="rect" id="node26" href="../../dd/dde/trcHardwarePort_8h.html" title="trcHardwarePort.h" alt="" coords="1127,572,1255,599"/>
<area shape="rect" id="node27" href="../../db/dd1/trcConfig_8h.html" title="trcConfig.h" alt="" coords="1145,647,1231,673"/>
<area shape="rect" id="node30" href="../../dd/dd0/deprecated__definitions_8h.html" title="deprecated_definitions.h" alt="" coords="733,423,896,449"/>
<area shape="rect" id="node31" href="../../dc/d35/portmacro_8h.html" title="portmacro.h" alt="" coords="920,423,1011,449"/>
<area shape="rect" id="node32" href="../../d5/d31/mpu__wrappers_8h.html" title="mpu_wrappers.h" alt="" coords="1035,423,1154,449"/>
<area shape="rect" id="node34" href="../../d8/d38/queue_8h.html" title="queue.h" alt="" coords="1137,348,1205,375"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a30c7fac1fd70d77890262303dbcf684a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a30c7fac1fd70d77890262303dbcf684a">CHIP_SELECT_OP</a>()</td></tr>
<tr class="separator:a30c7fac1fd70d77890262303dbcf684a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1987a13e4489f2bf6add7deba50d347b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a1987a13e4489f2bf6add7deba50d347b">FLASH_MANUFACTURER_ID</a>&#160;&#160;&#160;(0x1F)</td></tr>
<tr class="memdesc:a1987a13e4489f2bf6add7deba50d347b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This should match BYTE #1 of manufacturer and device ID information.  <a href="#a1987a13e4489f2bf6add7deba50d347b">More...</a><br /></td></tr>
<tr class="separator:a1987a13e4489f2bf6add7deba50d347b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9560b79ebc5c7d96bea3c0821a0373a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ae9560b79ebc5c7d96bea3c0821a0373a">FLASH_SECTOR_SIZE</a>&#160;&#160;&#160;(512)</td></tr>
<tr class="memdesc:ae9560b79ebc5c7d96bea3c0821a0373a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum sector size that works with <a class="el" href="../../db/d75/structFATFS.html">FATFS</a> (do not change this)  <a href="#ae9560b79ebc5c7d96bea3c0821a0373a">More...</a><br /></td></tr>
<tr class="separator:ae9560b79ebc5c7d96bea3c0821a0373a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69603456776979a47c4f69733cfaf436"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a69603456776979a47c4f69733cfaf436">FLASH_PAGENUM_BIT_OFFSET</a>&#160;&#160;&#160;9</td></tr>
<tr class="separator:a69603456776979a47c4f69733cfaf436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:ad8d7ad838585640c80def27167aecb82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ad8d7ad838585640c80def27167aecb82">FLASH_PAGESIZE_256</a>&#160;&#160;&#160;256</td></tr>
<tr class="memdesc:ad8d7ad838585640c80def27167aecb82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Page size defines. We support 256-528 byte page size. Do not change these.  <a href="#ad8d7ad838585640c80def27167aecb82">More...</a><br /></td></tr>
<tr class="separator:ad8d7ad838585640c80def27167aecb82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b4f18490493b9c8eff585fb4f0b20e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a0b4f18490493b9c8eff585fb4f0b20e1">FLASH_PAGESIZE_512</a>&#160;&#160;&#160;512</td></tr>
<tr class="separator:a0b4f18490493b9c8eff585fb4f0b20e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4ba98aedb7226598db23fba8548ba8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#acf4ba98aedb7226598db23fba8548ba8">FLASH_PAGESIZE_264</a>&#160;&#160;&#160;264</td></tr>
<tr class="separator:acf4ba98aedb7226598db23fba8548ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a357c1c46ef017a598d27adcdc77a1eeb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a357c1c46ef017a598d27adcdc77a1eeb">FLASH_PAGESIZE_528</a>&#160;&#160;&#160;528</td></tr>
<tr class="separator:a357c1c46ef017a598d27adcdc77a1eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a90fc9f6e687703fbc60019627a7781f6"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a90fc9f6e687703fbc60019627a7781f6">flash_io_func_t</a>) (uint8_t *data, const uint32_t addr, const uint32_t <a class="el" href="../../d6/db4/trace_2readme_8txt.html#a5b63272b2fdc1bee3a5c822dfc08d754">size</a>)</td></tr>
<tr class="memdesc:a90fc9f6e687703fbc60019627a7781f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function pointer of I/O operation.  <a href="#a90fc9f6e687703fbc60019627a7781f6">More...</a><br /></td></tr>
<tr class="separator:a90fc9f6e687703fbc60019627a7781f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ab67c88f008e05e0948fd6a33d2a292bc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ab67c88f008e05e0948fd6a33d2a292bc">flash_opcode_t</a> { <br />
&#160;&#160;<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ab67c88f008e05e0948fd6a33d2a292bca27dd0b071c007ef115b6b0d7c92aad39">opcode_status_reg</a> = 0xD7, 
<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ab67c88f008e05e0948fd6a33d2a292bcacb0b056db452f82fe42e6f766aec88d8">opcode_get_sig</a> = 0x9F, 
<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ab67c88f008e05e0948fd6a33d2a292bcad69b535e7dd339a00c29176f56d419a5">opcode_read_continous</a> = 0xE8, 
<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ab67c88f008e05e0948fd6a33d2a292bcaeac2264dd13c0bb6eb6962b6e0c2df58">opcode_read_cont_lowfreq</a> = 0x03, 
<br />
&#160;&#160;<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ab67c88f008e05e0948fd6a33d2a292bca1e5edb1794fa96267b30cd3cb11dc0e7">opcode_page_erase</a> = 0x81, 
<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ab67c88f008e05e0948fd6a33d2a292bca9b31157627dd3604e48bfa4068b3e521">opcode_prog_thru_buffer1</a> = 0x82, 
<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ab67c88f008e05e0948fd6a33d2a292bcaf912b434104ac2859e546cb2729d3e5f">opcode_write_buffer1</a> = 0x84, 
<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ab67c88f008e05e0948fd6a33d2a292bcaee5514bfac229ebb0c271c76ee9e27c2">opcode_buffer1_to_mem_no_builtin_erase</a> = 0x88, 
<br />
&#160;&#160;<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ab67c88f008e05e0948fd6a33d2a292bca7eef2128a76ff25f9cce49a473919269">opcode_read_security_reg</a> = 0x77, 
<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ab67c88f008e05e0948fd6a33d2a292bca55d0d286dd0cf4b9e22f5437cf2aac42">opcode_write_security_reg</a> = 0x9B
<br />
 }<tr class="memdesc:ab67c88f008e05e0948fd6a33d2a292bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flash device opcodes.  <a href="../../d9/dbf/spi__flash_8cpp.html#ab67c88f008e05e0948fd6a33d2a292bc">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ab67c88f008e05e0948fd6a33d2a292bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a491bb566a67490c6b28716155fdb3d0a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a491bb566a67490c6b28716155fdb3d0a">flash_cap_t</a> { <br />
&#160;&#160;<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a491bb566a67490c6b28716155fdb3d0aa472e653dc37b4500ea115bbd46955659">flash_cap_invalid</a> = 0, 
<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a491bb566a67490c6b28716155fdb3d0aa1a9d6a0d8689d408906b469db20bb47d">flash_cap_8mbit</a> = 0x25, 
<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a491bb566a67490c6b28716155fdb3d0aa8688317a4d034be77e961a608dd1fd7e">flash_cap_16mbit</a> = 0x26, 
<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a491bb566a67490c6b28716155fdb3d0aaeee2f74aedeb2bddc1988ddbd47b836e">flash_cap_32mbit</a> = 0x27, 
<br />
&#160;&#160;<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a491bb566a67490c6b28716155fdb3d0aa7272e517c39172408ef48e622bafa512">flash_cap_64mbit</a> = 0x28, 
<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a491bb566a67490c6b28716155fdb3d0aa38c9c8ac10ab73bd86a0b36acb8411ff">flash_cap_first_valid</a> = flash_cap_8mbit, 
<a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a491bb566a67490c6b28716155fdb3d0aa9ca99000682e80d8a247952e7a5fd0a1">flash_cap_last_valid</a> = flash_cap_64mbit
<br />
 }<tr class="memdesc:a491bb566a67490c6b28716155fdb3d0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This should match BYTE #2 of manufacturer and device ID information.  <a href="../../d9/dbf/spi__flash_8cpp.html#a491bb566a67490c6b28716155fdb3d0a">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a491bb566a67490c6b28716155fdb3d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7220f3029aa6fb493c1ffd0141adea18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d1b/diskioStructs_8h.html#a07c784581cfcc6d1192300c3071c8919">DSTATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a7220f3029aa6fb493c1ffd0141adea18">flash_initialize</a> ()</td></tr>
<tr class="separator:a7220f3029aa6fb493c1ffd0141adea18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a818e9a41d37f17b72ca7325cee5d6b3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d1b/diskioStructs_8h.html#aacdfef1dad6565f65c26d12fe0ea4b2b">DRESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a818e9a41d37f17b72ca7325cee5d6b3d">flash_read_sectors</a> (unsigned char *pData, int sectorNum, int sectorCount)</td></tr>
<tr class="separator:a818e9a41d37f17b72ca7325cee5d6b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85136478c3d564814404d5fcafa516a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d1b/diskioStructs_8h.html#aacdfef1dad6565f65c26d12fe0ea4b2b">DRESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a85136478c3d564814404d5fcafa516a8">flash_write_sectors</a> (unsigned char *pData, int sectorNum, int sectorCount)</td></tr>
<tr class="separator:a85136478c3d564814404d5fcafa516a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b09550234867ef1293f870a29778ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d1b/diskioStructs_8h.html#aacdfef1dad6565f65c26d12fe0ea4b2b">DRESULT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ae5b09550234867ef1293f870a29778ce">flash_ioctl</a> (<a class="el" href="../../d6/d3d/integer_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> ctrl, void *buff)</td></tr>
<tr class="separator:ae5b09550234867ef1293f870a29778ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38482d5bf5bc5ae3ab2c4f0ef4d72083"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a38482d5bf5bc5ae3ab2c4f0ef4d72083">flash_write_permanent_id</a> (char *id_64bytes)</td></tr>
<tr class="separator:a38482d5bf5bc5ae3ab2c4f0ef4d72083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a538ab8a29aed106a63609fbf87e92b71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a538ab8a29aed106a63609fbf87e92b71">flash_read_permanent_id</a> (char *id_64bytes)</td></tr>
<tr class="separator:a538ab8a29aed106a63609fbf87e92b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af52a678f41c83cf9837caf22342521bf"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#af52a678f41c83cf9837caf22342521bf">flash_get_page_count</a> (void)</td></tr>
<tr class="separator:af52a678f41c83cf9837caf22342521bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52bc2fdb076bdf584a97154a214ab95e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a52bc2fdb076bdf584a97154a214ab95e">flash_get_page_size</a> (void)</td></tr>
<tr class="separator:a52bc2fdb076bdf584a97154a214ab95e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50d3ac98a58b880b2d3f9a5d47c4daa1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a50d3ac98a58b880b2d3f9a5d47c4daa1">flash_supports_metadata</a> (void)</td></tr>
<tr class="separator:a50d3ac98a58b880b2d3f9a5d47c4daa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161da4b84ea37b1d82a8c810ac8f59a6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a161da4b84ea37b1d82a8c810ac8f59a6">flash_get_page_write_count</a> (uint32_t page_number)</td></tr>
<tr class="separator:a161da4b84ea37b1d82a8c810ac8f59a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce68906b1d682b10fc0445d41a09930"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a0ce68906b1d682b10fc0445d41a09930">flash_chip_erase</a> (void)</td></tr>
<tr class="separator:a0ce68906b1d682b10fc0445d41a09930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file supports Adesto Flash (formerly Atmel data flash) It should work with the following part numbers : 8mbit : AT45DB081E 16mbit : AT45DB161E 32mbit : AT45DB321E 64mbit : AT45DB641E</p>
<p>Any other model will also work as long as the page size or the minimum size we can program is between 256 - 528 inclusively. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a30c7fac1fd70d77890262303dbcf684a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHIP_SELECT_OP</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">for</span>(uint8_t ___i = board_io_flash_cs();\</div><div class="line">                                         ___i; \</div><div class="line">                                         ___i = (board_io_flash_ds() || board_io_flash_ds() || board_io_flash_ds()))</div></div><!-- fragment --><p>Macro to select and deselect SPI device during an operation. When we run in high frequency (fast CPU clock), we need to make sure there is at least 50ns difference between chip-selects, so we issue board_io_flash_ds() multiple times on purpose </p>

</div>
</div>
<a class="anchor" id="a1987a13e4489f2bf6add7deba50d347b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_MANUFACTURER_ID&#160;&#160;&#160;(0x1F)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This should match BYTE #1 of manufacturer and device ID information. </p>

</div>
</div>
<a class="anchor" id="a69603456776979a47c4f69733cfaf436"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_PAGENUM_BIT_OFFSET&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bit number for specifying flash page offset when using non-standard page-size</p>
<p>Example Page read/write with 264 bytes or 528 bytes: 3 address bytes : | 23:16 | 15:8 | 7:0 |</p>
<p>First 3 bits are don't care. Next 12-bits specify page number. Last 9 specify byte offset. </p>

</div>
</div>
<a class="anchor" id="ad8d7ad838585640c80def27167aecb82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_PAGESIZE_256&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Page size defines. We support 256-528 byte page size. Do not change these. </p>

</div>
</div>
<a class="anchor" id="acf4ba98aedb7226598db23fba8548ba8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_PAGESIZE_264&#160;&#160;&#160;264</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0b4f18490493b9c8eff585fb4f0b20e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_PAGESIZE_512&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a357c1c46ef017a598d27adcdc77a1eeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_PAGESIZE_528&#160;&#160;&#160;528</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae9560b79ebc5c7d96bea3c0821a0373a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_SECTOR_SIZE&#160;&#160;&#160;(512)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Minimum sector size that works with <a class="el" href="../../db/d75/structFATFS.html">FATFS</a> (do not change this) </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a90fc9f6e687703fbc60019627a7781f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* flash_io_func_t) (uint8_t *data, const uint32_t addr, const uint32_t <a class="el" href="../../d6/db4/trace_2readme_8txt.html#a5b63272b2fdc1bee3a5c822dfc08d754">size</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function pointer of I/O operation. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a491bb566a67490c6b28716155fdb3d0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d9/dbf/spi__flash_8cpp.html#a491bb566a67490c6b28716155fdb3d0a">flash_cap_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This should match BYTE #2 of manufacturer and device ID information. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a491bb566a67490c6b28716155fdb3d0aa472e653dc37b4500ea115bbd46955659"></a>flash_cap_invalid&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a491bb566a67490c6b28716155fdb3d0aa1a9d6a0d8689d408906b469db20bb47d"></a>flash_cap_8mbit&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a491bb566a67490c6b28716155fdb3d0aa8688317a4d034be77e961a608dd1fd7e"></a>flash_cap_16mbit&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a491bb566a67490c6b28716155fdb3d0aaeee2f74aedeb2bddc1988ddbd47b836e"></a>flash_cap_32mbit&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a491bb566a67490c6b28716155fdb3d0aa7272e517c39172408ef48e622bafa512"></a>flash_cap_64mbit&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a491bb566a67490c6b28716155fdb3d0aa38c9c8ac10ab73bd86a0b36acb8411ff"></a>flash_cap_first_valid&#160;</td><td class="fielddoc">
<p>SPI Flash signature must fall in between the capacity IDs for the initialization to be considered successful </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a491bb566a67490c6b28716155fdb3d0aa9ca99000682e80d8a247952e7a5fd0a1"></a>flash_cap_last_valid&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ab67c88f008e05e0948fd6a33d2a292bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d9/dbf/spi__flash_8cpp.html#ab67c88f008e05e0948fd6a33d2a292bc">flash_opcode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flash device opcodes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ab67c88f008e05e0948fd6a33d2a292bca27dd0b071c007ef115b6b0d7c92aad39"></a>opcode_status_reg&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab67c88f008e05e0948fd6a33d2a292bcacb0b056db452f82fe42e6f766aec88d8"></a>opcode_get_sig&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab67c88f008e05e0948fd6a33d2a292bcad69b535e7dd339a00c29176f56d419a5"></a>opcode_read_continous&#160;</td><td class="fielddoc">
<p>Works up to 66Mhz but requires 4 dummy bytes. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab67c88f008e05e0948fd6a33d2a292bcaeac2264dd13c0bb6eb6962b6e0c2df58"></a>opcode_read_cont_lowfreq&#160;</td><td class="fielddoc">
<p>Works up to 33Mhz. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab67c88f008e05e0948fd6a33d2a292bca1e5edb1794fa96267b30cd3cb11dc0e7"></a>opcode_page_erase&#160;</td><td class="fielddoc">
<p>Memory write options: Easiest way to write a page is using opcode_prog_thru_buffer1. Efficient way to write a page (if flash is busy) is to write buffer 1 (while busy) then perform page erase and buffer1 to memory without built-in-erase </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab67c88f008e05e0948fd6a33d2a292bca9b31157627dd3604e48bfa4068b3e521"></a>opcode_prog_thru_buffer1&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab67c88f008e05e0948fd6a33d2a292bcaf912b434104ac2859e546cb2729d3e5f"></a>opcode_write_buffer1&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab67c88f008e05e0948fd6a33d2a292bcaee5514bfac229ebb0c271c76ee9e27c2"></a>opcode_buffer1_to_mem_no_builtin_erase&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab67c88f008e05e0948fd6a33d2a292bca7eef2128a76ff25f9cce49a473919269"></a>opcode_read_security_reg&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab67c88f008e05e0948fd6a33d2a292bca55d0d286dd0cf4b9e22f5437cf2aac42"></a>opcode_write_security_reg&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0ce68906b1d682b10fc0445d41a09930"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_chip_erase </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This will ERASE the entire chip, including the meta-data!! This can take several seconds to perform the chip erase... </p>

</div>
</div>
<a class="anchor" id="af52a678f41c83cf9837caf22342521bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t flash_get_page_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flash memory metadata functions If the flash memory contains additional space for each page, then each time a page is written, we also write its write-counter value. You can then retrieve the page write count values by the page number. </p>

</div>
</div>
<a class="anchor" id="a52bc2fdb076bdf584a97154a214ab95e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t flash_get_page_size </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a161da4b84ea37b1d82a8c810ac8f59a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t flash_get_page_write_count </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>page_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd>DO NOT USE THIS FUNCTION WITHOUT THE SPI SEMAPHORE!!! </dd></dl>

</div>
</div>
<a class="anchor" id="a7220f3029aa6fb493c1ffd0141adea18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d1b/diskioStructs_8h.html#a07c784581cfcc6d1192300c3071c8919">DSTATUS</a> flash_initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the Flash Memory </p>

</div>
</div>
<a class="anchor" id="ae5b09550234867ef1293f870a29778ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d1b/diskioStructs_8h.html#aacdfef1dad6565f65c26d12fe0ea4b2b">DRESULT</a> flash_ioctl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d3d/integer_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&#160;</td>
          <td class="paramname"><em>ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets control information from this flash memory drive, such as sector count, sector size </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctrl</td><td>The type of information to get </td></tr>
    <tr><td class="paramname">buff</td><td>The pointer to save the requested information to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a538ab8a29aed106a63609fbf87e92b71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_read_permanent_id </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_64bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads the permanent ID programmed into the SPI flash </p><dl class="section warning"><dt>Warning</dt><dd>DO NOT USE THIS FUNCTION WITHOUT THE SPI SEMAPHORE!!! </dd></dl>

</div>
</div>
<a class="anchor" id="a818e9a41d37f17b72ca7325cee5d6b3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d1b/diskioStructs_8h.html#aacdfef1dad6565f65c26d12fe0ea4b2b">DRESULT</a> flash_read_sectors </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sectorNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sectorCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a sector from the Flash Memory </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pData</td><td>The pointer to the data to save the read </td></tr>
    <tr><td class="paramname">sectorNum</td><td>The sector number to read with each sector being 512 bytes </td></tr>
    <tr><td class="paramname">sectorCount</td><td>The number of sectors to read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a50d3ac98a58b880b2d3f9a5d47c4daa1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool flash_supports_metadata </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a38482d5bf5bc5ae3ab2c4f0ef4d72083"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_write_permanent_id </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>id_64bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a permanent ID on the SPI Flash </p><dl class="section warning"><dt>Warning</dt><dd>THIS CAN ONLY BE DONE ONCE IN A LIFETIME OF THE SPI FLASH </dd>
<dd>
DO NOT USE THIS FUNCTION WITHOUT THE SPI SEMAPHORE!!! </dd></dl>

</div>
</div>
<a class="anchor" id="a85136478c3d564814404d5fcafa516a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d1b/diskioStructs_8h.html#aacdfef1dad6565f65c26d12fe0ea4b2b">DRESULT</a> flash_write_sectors </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sectorNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sectorCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a sector to the Flash Memory </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pData</td><td>The pointer to the data to write </td></tr>
    <tr><td class="paramname">sectorNum</td><td>The sector number to write with each sector being 512 bytes </td></tr>
    <tr><td class="paramname">sectorCount</td><td>The number of sectors to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
